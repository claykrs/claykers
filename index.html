<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>clay's shag clicker</title>
</head>
<body>
  <h1 id="shags">0 shags</h2>
  <h3 id="idle">0 shags/s</h2>
  <button id="getShagged">+0 shags</button>
  
  <script>
    let shags = 0
    let totalShags = 0
    let shagsPerClick = 1
    let shagsPerSecond = 0

    let upgrades = {
      "maddie robinson": [100, 1, "click", 0]
    }

    const shagsT = document.getElementById("shags")
    const idleT = document.getElementById("idle")        
    const shag = document.getElementById("getShagged")
            
    shag.onclick = function() {
      shags += shagsPerClick
      totalShags += shagsPerClick
    }
      
    for (let name in upgrades) {
      let price = upgrades[name][0]
      let value = upgrades[name][1]
      let type = upgrades[name][2]
      let button = document.createElement("button")
     
      button.id = name
      button.innerHTML = 
          name + "(0)" +"<br>" + 
          "+" + value + " shags per " + type +
          "<br>" + "-" + price + " shags";
      document.body.appendChild(button)

      button.onclick = function() {
        if (shags >= price) {
          shags -= price
          upgrades[name][3] += 1

          button.innerHTML = 
            name + "(" + upgrades[name][3] + ")" +"<br>" + 
            "+" + value + " shags per " + type +
            "<br>" + "-" + price + " shags";
          
          if (type == "click") {
            shagsPerClick += value
          } else {
            shagsPerSecond += value
          }
        }        
      }
    }

    while (true) {
      shagsT.textContent = shags + " shags"
      shag.textContent = "[ +" + shagsPerClick + " shags ]"
    }
  </script>
</body>
</html>
